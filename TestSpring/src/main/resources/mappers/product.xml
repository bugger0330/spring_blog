<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.test.app.domain.user.ProductRepository">

	<select id="homeList1" parameterType="com.test.app.domain.user.ProductSearch" resultType="com.test.app.domain.user.Product">
		select
			product_code,
			product_username, 
			product_phone, 
			product_title, 
			product_content, 
			product_price, 
			product_delivery, 
			product_status, 
			product_exchange, 
			product_select, 
			product_img1, 
			product_img2, 
			product_img3, 
			product_img4, 
			product_img5, 
			product_img6, 
			create_date,
			(SELECT COUNT(product_code) FROM product) AS count1
		from product 
		<choose>
		<when test="select == null || search == null">
			where product_select = '스마트폰'
		</when>
		<when test="select == title">
			where product_select = '스마트폰' and product_title like ('%',#{search},'%')
		</when>
		<when test="select == content">
			where product_select = '스마트폰' and product_content like ('%',#{search},'%')
		</when>
		<when test="select == username">
			where product_select = '스마트폰' and product_username like ('%',#{search},'%')
		</when>
		</choose>
		
		LIMIT #{number},16;
	</select>
	
	<select id="homeList2" parameterType="com.test.app.domain.user.ProductSearch" resultType="com.test.app.domain.user.Product">
		select
			product_code,
			product_username, 
			product_phone, 
			product_title, 
			product_content, 
			product_price, 
			product_delivery, 
			product_status, 
			product_exchange, 
			product_select, 
			product_img1, 
			product_img2, 
			product_img3, 
			product_img4, 
			product_img5, 
			product_img6, 
			create_date,
			(SELECT COUNT(product_code) FROM product) AS count1
		from product 
		<choose>
		<when test="select == null || search == null">
			where product_select = '태블릿'
		</when>
		<when test="select == title">
			where product_select = '태블릿' and product_title like ('%',#{search},'%')
		</when>
		<when test="select == content">
			where product_select = '태블릿' and product_content like ('%',#{search},'%')
		</when>
		<when test="select == username">
			where product_select = '태블릿' and product_username like ('%',#{search},'%')
		</when>
		</choose>
		LIMIT #{number},16;
	</select>
	
	<select id="homeList3" parameterType="com.test.app.domain.user.ProductSearch" resultType="com.test.app.domain.user.Product">
		select
			product_code,
			product_username, 
			product_phone, 
			product_title, 
			product_content, 
			product_price, 
			product_delivery, 
			product_status, 
			product_exchange, 
			product_select, 
			product_img1, 
			product_img2, 
			product_img3, 
			product_img4, 
			product_img5, 
			product_img6, 
			create_date,
			(SELECT COUNT(product_code) FROM product) AS count1
		from product 
		<choose>
		<when test="select == null || search == null">
			where product_select = 'pc'
		</when>
		<when test="select == title">
			where product_select = 'pc' and product_title like ('%',#{search},'%')
		</when>
		<when test="select == content">
			where product_select = 'pc' and product_content like ('%',#{search},'%')
		</when>
		<when test="select == username">
			where product_select = 'pc' and product_username like ('%',#{search},'%')
		</when>
		</choose>
		LIMIT #{number},16;
	</select>
	
	<select id="homeList4" parameterType="com.test.app.domain.user.ProductSearch" resultType="com.test.app.domain.user.Product">
		select
			product_code,
			product_username, 
			product_phone, 
			product_title, 
			product_content, 
			product_price, 
			product_delivery, 
			product_status, 
			product_exchange, 
			product_select, 
			product_img1, 
			product_img2, 
			product_img3, 
			product_img4, 
			product_img5, 
			product_img6, 
			create_date,
			(SELECT COUNT(product_code) FROM product) AS count1
		from product 
		<choose>
		<when test="select == null || search == null">
			where product_select = '기타'
		</when>
		<when test="select == title">
			where product_select = '기타' and product_title like ('%',#{search},'%')
		</when>
		<when test="select == content">
			where product_select = '기타' and product_content like ('%',#{search},'%')
		</when>
		<when test="select == username">
			where product_select = '기타' and product_username like ('%',#{search},'%')
		</when>
		</choose>
		LIMIT #{number},16;
	</select>
	

	
	
	<select id="getProductList" parameterType="Integer" resultType="com.test.app.domain.user.Product">
		select * from product where  product_code = #{product_code};
	</select>


	<insert id="productInsert" parameterType="com.test.app.domain.user.Product">
		insert into product values(
			0,
			#{product_username},
			#{product_phone},
			#{product_title},
			#{product_content},
			#{product_price},
			#{product_delivery},
			#{product_status},
			#{product_exchange},
			#{product_select},
			#{product_img1},
			#{product_img2},
			#{product_img3},
			#{product_img4},
			#{product_img5},
			#{product_img6},
			now()
		);
	</insert>



</mapper>